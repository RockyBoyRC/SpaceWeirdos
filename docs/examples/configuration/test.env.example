# Test Environment Configuration
# Copy this file to .env.test in your project root

# Environment
NODE_ENV=test

# Server Configuration (Test - use random port for parallel tests)
PORT=0
HOST=localhost
CORS_ORIGINS=*
STATIC_PATH=dist
DATA_PATH=data
WARBAND_DATA_PATH=data/warbands.json
ENABLE_AUTO_SAVE=false

# API Configuration (Test - no retries for predictable behavior)
VITE_API_URL=http://localhost:0/api
API_MAX_RETRIES=0
API_RETRY_DELAY_MS=0
API_TIMEOUT_MS=5000

# Cache Configuration (Test - very short TTLs for predictable behavior)
CACHE_DEFAULT_MAX_SIZE=10
CACHE_DEFAULT_TTL_MS=100
CACHE_ITEM_COST_SIZE=20
CACHE_ITEM_COST_TTL=100
CACHE_COST_CALC_SIZE=10
CACHE_COST_CALC_TTL=100
CACHE_VALIDATION_SIZE=5
CACHE_VALIDATION_TTL=100
CACHE_API_RESPONSE_SIZE=10
CACHE_API_RESPONSE_TTL=100

# Cost Configuration (Test - use defaults for consistency)
POINT_LIMIT_STANDARD=75
POINT_LIMIT_EXTENDED=125
POINT_LIMIT_WARNING_THRESHOLD=0.9
TROOPER_LIMIT_STANDARD=20
TROOPER_LIMIT_MAXIMUM=25
TROOPER_SPECIAL_SLOT_MIN=21
TROOPER_SPECIAL_SLOT_MAX=25
EQUIPMENT_LIMIT_LEADER_STANDARD=2
EQUIPMENT_LIMIT_LEADER_CYBORGS=3
EQUIPMENT_LIMIT_TROOPER_STANDARD=1
EQUIPMENT_LIMIT_TROOPER_CYBORGS=2
DISCOUNT_MUTANT=1
DISCOUNT_HEAVILY_ARMED=1

# Validation Configuration (Test)
VALIDATION_COST_WARNING_THRESHOLD=0.9
VALIDATION_CONTEXT_AWARE_WARNINGS=true
VALIDATION_STRICT_MODE=true

# Environment Configuration (Test - minimal logging)
LOG_LEVEL=error
DEBUG_ENABLED=false
ENABLE_PERFORMANCE_MONITORING=false
ENABLE_DETAILED_ERRORS=true

# File Operations Configuration (Test - smaller limits)
FILE_MAX_SIZE_BYTES=1048576
FILE_ALLOWED_TYPES=application/json,.json
FILE_MAX_FILENAME_LENGTH=100
FILE_ENABLE_SANITIZATION=true
FILE_OPERATION_TIMEOUT_MS=5000

# Test-Specific Notes:
# - PORT=0 means use any available port (prevents conflicts in parallel tests)
# - ENABLE_AUTO_SAVE=false prevents file system interference during tests
# - API_MAX_RETRIES=0 ensures predictable test behavior
# - Very short cache TTLs ensure fresh data in each test
# - LOG_LEVEL=error reduces test output noise
# - Smaller file limits speed up file operation tests