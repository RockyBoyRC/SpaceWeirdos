{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://space-weirdos.com/schemas/configuration.json",
  "title": "Space Weirdos Configuration Schema",
  "description": "JSON schema for Space Weirdos application configuration",
  "type": "object",
  "properties": {
    "NODE_ENV": {
      "type": "string",
      "enum": ["development", "production", "test"],
      "description": "Environment type that determines default behavior and optimizations"
    },
    "LOG_LEVEL": {
      "type": "string",
      "enum": ["error", "warn", "info", "debug"],
      "description": "Logging verbosity level"
    },
    "DEBUG_ENABLED": {
      "type": "string",
      "enum": ["true", "false"],
      "description": "Enable debug mode for detailed logging and error reporting"
    },
    "ENABLE_DETAILED_ERRORS": {
      "type": "string",
      "enum": ["true", "false"],
      "description": "Enable detailed error reporting (recommended for development)"
    },
    "ENABLE_PERFORMANCE_MONITORING": {
      "type": "string",
      "enum": ["true", "false"],
      "description": "Enable performance monitoring and metrics collection"
    },
    "PORT": {
      "type": "string",
      "pattern": "^(0|[1-9][0-9]{0,4})$",
      "description": "Server port number (0-65535, use 0 for any available port)"
    },
    "HOST": {
      "type": "string",
      "description": "Server host address (e.g., localhost, 0.0.0.0)"
    },
    "CORS_ORIGINS": {
      "type": "string",
      "description": "Comma-separated list of allowed CORS origins"
    },
    "STATIC_PATH": {
      "type": "string",
      "description": "Path to static files directory (relative to project root)"
    },
    "DATA_PATH": {
      "type": "string",
      "description": "Path to data directory (relative to project root)"
    },
    "WARBAND_DATA_PATH": {
      "type": "string",
      "description": "Path to warband data file (relative to project root)"
    },
    "ENABLE_AUTO_SAVE": {
      "type": "string",
      "enum": ["true", "false"],
      "description": "Enable automatic saving of data repository changes"
    },
    "VITE_API_URL": {
      "type": "string",
      "format": "uri",
      "description": "Base URL for API requests (must be a valid URL)"
    },
    "API_MAX_RETRIES": {
      "type": "string",
      "pattern": "^[0-9]+$",
      "description": "Maximum number of retry attempts for failed API requests"
    },
    "API_RETRY_DELAY_MS": {
      "type": "string",
      "pattern": "^[0-9]+$",
      "description": "Delay between retry attempts in milliseconds"
    },
    "API_TIMEOUT_MS": {
      "type": "string",
      "pattern": "^[1-9][0-9]*$",
      "description": "Request timeout in milliseconds (must be positive)"
    },
    "CACHE_DEFAULT_MAX_SIZE": {
      "type": "string",
      "pattern": "^[1-9][0-9]*$",
      "description": "Default maximum cache size (must be positive)"
    },
    "CACHE_DEFAULT_TTL_MS": {
      "type": "string",
      "pattern": "^[0-9]+$",
      "description": "Default cache TTL in milliseconds"
    },
    "CACHE_ITEM_COST_SIZE": {
      "type": "string",
      "pattern": "^[1-9][0-9]*$",
      "description": "Item cost cache maximum size"
    },
    "CACHE_ITEM_COST_TTL": {
      "type": "string",
      "pattern": "^[0-9]+$",
      "description": "Item cost cache TTL in milliseconds"
    },
    "CACHE_COST_CALC_SIZE": {
      "type": "string",
      "pattern": "^[1-9][0-9]*$",
      "description": "Cost calculation cache maximum size"
    },
    "CACHE_COST_CALC_TTL": {
      "type": "string",
      "pattern": "^[0-9]+$",
      "description": "Cost calculation cache TTL in milliseconds"
    },
    "CACHE_VALIDATION_SIZE": {
      "type": "string",
      "pattern": "^[1-9][0-9]*$",
      "description": "Validation result cache maximum size"
    },
    "CACHE_VALIDATION_TTL": {
      "type": "string",
      "pattern": "^[0-9]+$",
      "description": "Validation result cache TTL in milliseconds"
    },
    "CACHE_API_RESPONSE_SIZE": {
      "type": "string",
      "pattern": "^[1-9][0-9]*$",
      "description": "API response cache maximum size"
    },
    "CACHE_API_RESPONSE_TTL": {
      "type": "string",
      "pattern": "^[0-9]+$",
      "description": "API response cache TTL in milliseconds"
    },
    "POINT_LIMIT_STANDARD": {
      "type": "string",
      "pattern": "^[1-9][0-9]*$",
      "description": "Standard warband point limit (must be positive)"
    },
    "POINT_LIMIT_EXTENDED": {
      "type": "string",
      "pattern": "^[1-9][0-9]*$",
      "description": "Extended warband point limit (must be positive)"
    },
    "POINT_LIMIT_WARNING_THRESHOLD": {
      "type": "string",
      "pattern": "^(0(\\.[0-9]+)?|1(\\.0+)?)$",
      "description": "Point limit warning threshold (0.0 to 1.0)"
    },
    "TROOPER_LIMIT_STANDARD": {
      "type": "string",
      "pattern": "^[1-9][0-9]*$",
      "description": "Standard trooper cost limit (must be positive)"
    },
    "TROOPER_LIMIT_MAXIMUM": {
      "type": "string",
      "pattern": "^[1-9][0-9]*$",
      "description": "Maximum trooper cost limit (must be positive)"
    },
    "TROOPER_SPECIAL_SLOT_MIN": {
      "type": "string",
      "pattern": "^[1-9][0-9]*$",
      "description": "Special slot minimum cost (must be positive)"
    },
    "TROOPER_SPECIAL_SLOT_MAX": {
      "type": "string",
      "pattern": "^[1-9][0-9]*$",
      "description": "Special slot maximum cost (must be positive)"
    },
    "EQUIPMENT_LIMIT_LEADER_STANDARD": {
      "type": "string",
      "pattern": "^[0-9]+$",
      "description": "Equipment limit for leaders without Cyborgs ability"
    },
    "EQUIPMENT_LIMIT_LEADER_CYBORGS": {
      "type": "string",
      "pattern": "^[0-9]+$",
      "description": "Equipment limit for leaders with Cyborgs ability"
    },
    "EQUIPMENT_LIMIT_TROOPER_STANDARD": {
      "type": "string",
      "pattern": "^[0-9]+$",
      "description": "Equipment limit for troopers without Cyborgs ability"
    },
    "EQUIPMENT_LIMIT_TROOPER_CYBORGS": {
      "type": "string",
      "pattern": "^[0-9]+$",
      "description": "Equipment limit for troopers with Cyborgs ability"
    },
    "DISCOUNT_MUTANT": {
      "type": "string",
      "pattern": "^[0-9]+$",
      "description": "Discount value applied by Mutants warband ability"
    },
    "DISCOUNT_HEAVILY_ARMED": {
      "type": "string",
      "pattern": "^[0-9]+$",
      "description": "Discount value applied by Heavily Armed warband ability"
    },
    "VALIDATION_COST_WARNING_THRESHOLD": {
      "type": "string",
      "pattern": "^(0(\\.[0-9]+)?|1(\\.0+)?)$",
      "description": "Cost warning threshold for validation (0.0 to 1.0)"
    },
    "VALIDATION_CONTEXT_AWARE_WARNINGS": {
      "type": "string",
      "enum": ["true", "false"],
      "description": "Enable context-aware validation warnings"
    },
    "VALIDATION_STRICT_MODE": {
      "type": "string",
      "enum": ["true", "false"],
      "description": "Enable strict validation mode"
    }
  },
  "additionalProperties": true,
  "examples": [
    {
      "NODE_ENV": "development",
      "LOG_LEVEL": "debug",
      "DEBUG_ENABLED": "true",
      "PORT": "3001",
      "HOST": "localhost",
      "VITE_API_URL": "http://localhost:3001/api",
      "CACHE_DEFAULT_MAX_SIZE": "100",
      "POINT_LIMIT_STANDARD": "75",
      "POINT_LIMIT_EXTENDED": "125"
    },
    {
      "NODE_ENV": "production",
      "LOG_LEVEL": "info",
      "DEBUG_ENABLED": "false",
      "PORT": "3001",
      "HOST": "0.0.0.0",
      "VITE_API_URL": "https://yourdomain.com/api",
      "CACHE_DEFAULT_MAX_SIZE": "500",
      "VALIDATION_STRICT_MODE": "true"
    },
    {
      "NODE_ENV": "test",
      "LOG_LEVEL": "error",
      "PORT": "0",
      "API_MAX_RETRIES": "0",
      "CACHE_DEFAULT_MAX_SIZE": "10",
      "CACHE_DEFAULT_TTL_MS": "100"
    }
  ],
  "definitions": {
    "positiveInteger": {
      "type": "string",
      "pattern": "^[1-9][0-9]*$"
    },
    "nonNegativeInteger": {
      "type": "string",
      "pattern": "^[0-9]+$"
    },
    "boolean": {
      "type": "string",
      "enum": ["true", "false"]
    },
    "percentage": {
      "type": "string",
      "pattern": "^(0(\\.[0-9]+)?|1(\\.0+)?)$"
    }
  }
}